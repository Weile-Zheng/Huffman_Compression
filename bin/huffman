#!/bin/bash

path="/Users/weilezheng/desktop/Huffman_Coding/src"
class="/Users/weilezheng/desktop/Huffman_Coding/src/HuffmanMain"

compress(){
    echo "comp"
    java -cp $path HuffmanMain encode $1 $2
    #java -cp [path] <main class> [Encode/Decode] <File to be Compressed> <Compression Name>

}

decompress(){
    echo "decomp"
    java -cp $path HuffmanMain decode $1 $2
}

outputname=""
if [ "$3" == "-o" ]; then
outputname="$4"
fi 

file="$2"

if [ "$1" == "-compress" ]; then 
compress $file $outputname

elif [ "$1" == "-decompress" ]; then 
decompress $file $outputname
#rm .frequency.txt 

elif [ "$1" == "" ];then
    echo "Usage: huffman -[compress/decompress] <InputFile> (Optional) -o [OutputFileName]"

else
    echo "Error: option not recognized"
    echo "Caused by \"$1\" option not found"

fi

